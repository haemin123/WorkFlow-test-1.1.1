import{r as d,j as e,A as g}from"./index-BWhNYll5.js";import{g as f,S as y,T as v}from"./TaskCard-hpMuFqCR.js";import{T as o}from"./trash-2-D4YKPC91.js";import{R as j}from"./rotate-ccw-Cq4ufDDm.js";import"./calendar-DYNEwCHX.js";const R=({tasks:a,onRestoreTask:x,onDeleteTask:h,onEmptyTrash:m,onTaskClick:p,currentUser:i})=>{const[l,b]=d.useState(""),[s,c]=d.useState("ARCHIVED"),n=d.useMemo(()=>{let r=[];return s==="ARCHIVED"?r=a.filter(t=>t.archived&&!t.inTrash):r=a.filter(t=>t.inTrash),f(r,{query:l,priority:"ALL",onlyMyTasks:!1,currentUserId:i==null?void 0:i.uid},"NEWEST")},[a,l,s,i]);return e.jsxs("div",{className:"flex flex-col h-full bg-gray-50/50",children:[e.jsxs("div",{className:"h-16 flex items-center justify-between px-8 border-b border-gray-100 bg-white sticky top-0 z-10 shrink-0",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`p-2 rounded-lg ${s==="ARCHIVED"?"bg-indigo-50 text-indigo-600":"bg-red-50 text-red-600"}`,children:s==="ARCHIVED"?e.jsx(g,{className:"w-5 h-5"}):e.jsx(o,{className:"w-5 h-5"})}),e.jsxs("div",{className:"flex bg-gray-100 p-1 rounded-lg",children:[e.jsxs("button",{onClick:()=>c("ARCHIVED"),className:`px-3 py-1.5 rounded-md text-xs font-bold transition-all ${s==="ARCHIVED"?"bg-white text-gray-900 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:["보관함 (",a.filter(r=>r.archived&&!r.inTrash).length,")"]}),e.jsxs("button",{onClick:()=>c("TRASH"),className:`px-3 py-1.5 rounded-md text-xs font-bold transition-all ${s==="TRASH"?"bg-white text-red-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:["휴지통 (",a.filter(r=>r.inTrash).length,")"]})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"relative group w-64",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(y,{className:"h-4 w-4 text-gray-400 group-focus-within:text-indigo-500 transition-colors"})}),e.jsx("input",{type:"text",placeholder:"검색...",value:l,onChange:r=>b(r.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-200 rounded-xl leading-5 bg-gray-50 placeholder-gray-400 focus:outline-none focus:bg-white focus:ring-2 focus:ring-indigo-100 focus:border-indigo-300 sm:text-sm transition-all"})]}),s==="TRASH"&&n.length>0&&e.jsxs("button",{onClick:m,className:"flex items-center gap-2 px-4 py-2 bg-red-50 text-red-600 rounded-lg text-sm font-bold hover:bg-red-100 transition-colors",children:[e.jsx(o,{className:"w-4 h-4"}),e.jsx("span",{children:"휴지통 비우기"})]})]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-8",children:n.length===0?e.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-gray-400",children:[s==="ARCHIVED"?e.jsx(g,{className:"w-16 h-16 mb-4 opacity-20"}):e.jsx(o,{className:"w-16 h-16 mb-4 opacity-20"}),e.jsx("p",{className:"text-sm font-medium",children:s==="ARCHIVED"?"보관된 업무가 없습니다.":"휴지통이 비어있습니다."})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:n.map((r,t)=>e.jsxs("div",{className:"relative group cursor-pointer",onClick:()=>p(r),children:[e.jsxs("div",{className:"absolute top-2 right-2 z-20 flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",onClick:u=>u.stopPropagation(),children:[e.jsx("button",{onClick:()=>x(r.id),className:"p-2 bg-white border border-gray-200 rounded-full shadow-sm text-blue-600 hover:bg-blue-50 hover:border-blue-200 transition-all",title:"다시 복구",children:e.jsx(j,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>{confirm("정말로 영구 삭제하시겠습니까? 복구할 수 없습니다.")&&h(r.id)},className:"p-2 bg-white border border-gray-200 rounded-full shadow-sm text-red-400 hover:bg-red-50 hover:border-red-200 hover:text-red-600 transition-all",title:"영구 삭제",children:e.jsx(o,{className:"w-4 h-4"})})]}),e.jsx("div",{className:"opacity-80 hover:opacity-100 transition-opacity pointer-events-none",children:e.jsx(v,{task:r,index:t,draggedTaskId:null,onClick:()=>{},onDragStart:()=>{},onDragEnd:()=>{},onDelete:()=>{}})}),e.jsx("div",{className:`absolute inset-0 rounded-2xl border border-dashed transition-colors
                            ${s==="TRASH"?"bg-red-50/10 border-red-200 hover:bg-red-50/20":"bg-gray-50/10 border-gray-300 hover:bg-gray-50/20"}`})]},r.id))})})]})};export{R as ArchivePage};
